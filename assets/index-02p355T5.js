(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();const w="modulepreload",y=function(l){return"/"+l},h={},b=function(i,t,d){let e=Promise.resolve();if(t&&t.length>0){let m=function(s){return Promise.all(s.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var o=m;document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=n?.nonce||n?.getAttribute("nonce");e=m(t.map(s=>{if(s=y(s),s in h)return;h[s]=!0;const u=s.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${f}`))return;const a=document.createElement("link");if(a.rel=u?"stylesheet":w,u||(a.as="script"),a.crossOrigin="",a.href=s,c&&a.setAttribute("nonce",c),document.head.appendChild(a),u)return new Promise((p,g)=>{a.addEventListener("load",p),a.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${s}`)))})}))}function r(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return e.then(n=>{for(const c of n||[])c.status==="rejected"&&r(c.reason);return i().catch(r)})};function v(l){const i=new WebSocket(l);i.binaryType="arraybuffer";const t=document.createElement("canvas");document.querySelector(".app").appendChild(t);const d=t.getContext("2d");t.id="canvas",i.onmessage=e=>{const r=new Blob([e.data],{type:"image/jpeg"}),o=new Image;o.onload=()=>{t.width=o.width/window.devicePixelRatio,t.height=o.height/window.devicePixelRatio,t.style.width=t.width+"px",t.style.height=t.height+"px",d.drawImage(o,0,0,t.width,t.height);const n=d.getImageData(0,0,1,1).data;document.body.style.backgroundColor=`rgb(${n[0]},${n[1]},${n[2]})`,URL.revokeObjectURL(o.src)},o.src=URL.createObjectURL(r)}}if(window.location.pathname==="/stream"){const l=new URLSearchParams(window.location.search).get("ws")||"ws://localhost:8080";v(l)}else b(()=>import("./main-DpTf5dtU.js"),[]);
